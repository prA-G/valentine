<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pr-Anu üíû Valentine</title>

<style>
*{ box-sizing:border-box; font-family:"Georgia", serif; }

body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4,#ffd1dc);
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  color:white;
}

/* üíï floating hearts */
.heart{
  position:absolute;
  bottom:-20px;
  font-size:22px;
  animation:float 6s linear infinite;
  opacity:0.7;
}
@keyframes float{
  to{ transform:translateY(-110vh); opacity:0; }
}

/* ================= VALENTINE PAGE ================= */
#valentine{ text-align:center; }

h1{
  font-size:3rem;
  margin-bottom:40px;
}

.area{
  position:relative;
  height:160px;
}

button{
  padding:14px 34px;
  font-size:1.4rem;
  border-radius:40px;
  border:none;
  cursor:pointer;
}

#yes{
  background:#ff2f68;
  color:white;
  transition:transform 0.3s ease;
}

#no{
  position:absolute;
  left:60%;
  top:0;
  background:white;
  color:#ff2f68;
}

#caption{
  position:absolute;
  font-size:1.1rem;
  width:240px;
  text-align:center;
  pointer-events:none;
}

/* ================= NAME SCENE ================= */
#scene{
  display:none;
  position:fixed;
  inset:0;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
}

#line{
  display:flex;
  gap:20px;
  font-size:4rem;
  font-weight:bold;
}

.name{ opacity:0; }

.fromLeft{ animation:fromLeft 1.8s forwards; }
.fromRight{ animation:fromRight 1.8s forwards; }

@keyframes fromLeft{
  from{ transform:translateX(-400px); opacity:0; }
  to{ transform:translateX(0); opacity:1; }
}
@keyframes fromRight{
  from{ transform:translateX(400px); opacity:0; }
  to{ transform:translateX(0); opacity:1; }
}

/* drop letters */
.letter{
  display:inline-block;
  animation:drop 1.4s forwards;
}
@keyframes drop{
  to{ transform:translateY(200px); opacity:0; }
}

/* final name */
#final{
  font-size:4.5rem;
  margin-top:30px;
  opacity:0;
  animation:fadeIn 2s forwards;
  animation-delay:3.5s;
}
@keyframes fadeIn{
  to{ opacity:1; }
}

/* message */
#message{
  max-width:70%;
  margin-top:30px;
  min-height:220px;
}

#message h2,
#message h3,
#message p{
  opacity:1;
  margin:6px 0;
}
</style>
</head>

<body>

<!-- üîä LOCAL AUDIO -->
<audio id="noSound" src="./no.mp3" preload="auto"></audio>
<audio id="yesSound" src="./yes.mp3" preload="auto"></audio>
<audio id="loveSong" src="./love.mp3" preload="auto"></audio>

<!-- üíò VALENTINE PAGE -->
<div id="valentine">
  <h1>Will You Be My Valentine Forever? üíñ</h1>
  <div class="area">
    <button id="yes">YES üíò</button>
    <button id="no">NO üôÑ</button>
    <div id="caption"></div>
  </div>
</div>

<!-- üé¨ NAME + MESSAGE SCENE -->
<div id="scene">

  <div id="line">
    <div class="name fromLeft" id="pragati">PRAGATI</div>
    <div class="name fromRight" id="anurag">ANURAG</div>
  </div>

  <div id="final">PR-ANU üíû</div>

  <div id="message"></div>

</div>

<script>
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const caption=document.getElementById("caption");
const valentine=document.getElementById("valentine");
const scene=document.getElementById("scene");

const noSound=document.getElementById("noSound");
const yesSound=document.getElementById("yesSound");
const loveSong=document.getElementById("loveSong");

// song settings
const SONG_START=111; // 1:51
const SONG_DURATION=41;

let scale=1,i=0;
const lines=[
 "Are you sure babe? ü•∫",
 "Gandaa Bachhaaüò§",
 "You can't Say NO anymore.. üòè",
 "YES is waiting‚Ä¶ and so am I üíû",
 "Destiny already decided ... Say Yesüíç"
];

// unlock audio
document.addEventListener("click",()=>{
  [noSound,yesSound,loveSong].forEach(s=>{
    s.play().then(()=>{
      s.pause(); s.currentTime=0;
    }).catch(()=>{});
  });
},{once:true});

no.onclick=()=>{
  noSound.currentTime=0;
  noSound.play();

  caption.innerText=lines[i%lines.length];
  i++;

  scale+=0.12;
  yes.style.transform=`scale(${scale})`;

  const x=Math.random()*280;
  const y=Math.random()*60;
  no.style.left=x+"px";
  no.style.top=y+"px";
  caption.style.left=x-40+"px";
  caption.style.top=y+55+"px";
};

yes.onclick=()=>{
  yesSound.currentTime=0;
  yesSound.play();

  setTimeout(()=>{
    loveSong.currentTime=SONG_START;
    loveSong.play();
    setTimeout(()=>loveSong.pause(),SONG_DURATION*1000);
  },600);

  setTimeout(()=>{
    valentine.style.display="none";
    scene.style.display="flex";
    dropLetters();
    startTypewriter();
  },500);
};

// hearts
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="üíñ";
  h.style.left=Math.random()*100+"vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
},300);

// drop letters
function dropLetters(){
  setTimeout(()=>{
    document.querySelectorAll("#pragati,#anurag").forEach(el=>{
      const t=el.innerText;
      el.innerHTML="";
      [...t].forEach((ch,i)=>{
        const s=document.createElement("span");
        s.className="letter";
        s.innerText=ch;
        s.style.animationDelay=i*0.1+"s";
        el.appendChild(s);
      });
    });
  },2000);
}

/* ‚ù§Ô∏è TYPEWRITER MESSAGE */
function startTypewriter(){
  const msg=document.getElementById("message");

  const text = `
<h2>Pr-Anu are meant for a lifetime ‚ôæÔ∏èüíû</h2>
<h3>14 February is almost here‚Ä¶ and you are the only 1Ô∏è‚É£4Ô∏è‚É£ me üíò</h3>
<p>I will love you ‚Äî always, without conditions.</p>
<p>I will love you in quiet mornings and slow nights.</p>
<p>I will love you in every shade of color.</p>
<p>I will love you in every hour of the day.</p>
<p>I will choose you in every stage, every lifetime. ‚ôæÔ∏è</p>
`;

  let i=0;
  const totalTime=30000; // 30 sec
  const chars=text.length;
  const speed=totalTime/chars;

  function type(){
    msg.innerHTML=text.slice(0,i++);
    if(i<=chars) setTimeout(type,speed);
  }

  setTimeout(type,4500); // after PR-ANU appears
}
</script>

</body>
</html>
